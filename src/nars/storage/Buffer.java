package nars.storage;

/**
 * ğŸ†•æ–°çš„ ç¼“å†²åŒº æŠ½è±¡ç±»å‹
 * * ğŸ“Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—
 * * ğŸš©æŠ½è±¡çš„ã€Œæ·»åŠ å…ƒç´ ã€ã€Œå¼¹å‡ºå…ƒç´ ã€
 */
public interface Buffer<E> extends Iterable<E> {

    /** ã€å†…éƒ¨ã€‘æ·»åŠ å…ƒç´ ï¼ˆåˆ°é˜Ÿå°¾ï¼‰ */
    void __push(E element);

    /** ã€å†…éƒ¨ã€‘å¼¹å‡ºå…ƒç´ ï¼ˆé˜Ÿé¦–ï¼‰ */
    E __pop();

    /** ã€å†…éƒ¨ã€‘è·å–å·²æœ‰å…ƒç´ æ•°é‡ */
    public int size();

    /** ã€å†…éƒ¨ã€‘è·å–å®¹é‡ */
    public int capacity();

    /**
     * æ·»åŠ å…ƒç´ ï¼ˆåˆ°é˜Ÿå°¾ï¼‰
     * * ğŸš©å…ˆæ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾ï¼Œå†å¼¹å‡ºé˜Ÿé¦–å…ƒç´ 
     */
    public default E add(E newElement) {
        // * ğŸš©æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾
        this.__push(newElement);
        // * ğŸš©ç¼“å†²åŒºæœºåˆ¶ | ğŸ“æ–­è¨€ï¼šåªåœ¨å˜åŠ¨æ—¶å¤„ç†
        if (size() > this.capacity()) {
            return this.__pop(); // FIFO
        }
        return null;
    }
}
