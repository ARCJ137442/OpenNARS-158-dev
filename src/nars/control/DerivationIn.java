package nars.control;

import nars.entity.Concept;
import nars.entity.Task;
import nars.language.Term;
import nars.storage.Memory;

public interface DerivationIn {

    /**
     * ğŸ†•è·å–è®°å¿†åŒºï¼ˆä¸å¯å˜å¼•ç”¨ï¼‰
     */
    public Memory getMemory();

    /**
     * ğŸ†•è®¿é—®ã€Œå½“å‰æ—¶é—´ã€
     * * ğŸ¯ç”¨äºåœ¨æ¨ç†è¿‡ç¨‹ä¸­æ„å»ºã€Œæ–°æ—¶é—´æˆ³ã€
     * * ï¸ğŸ“å¯ç©ºæ€§ï¼šéç©º
     * * ğŸ“å¯å˜æ€§ï¼šåªè¯»
     */
    public long getTime();

    // /**
    // * ğŸ†•è®¿é—®ã€Œå½“å‰è¶…å‚æ•°ã€
    // * * ğŸ¯ç”¨äºåœ¨æ¨ç†è¿‡ç¨‹ä¸­æ„å»ºã€Œæ–°æ—¶é—´æˆ³ã€ï¼ˆä½œä¸ºã€Œæœ€å¤§é•¿åº¦ã€å‚æ•°ï¼‰
    // * * ï¸ğŸ“å¯ç©ºæ€§ï¼šéç©º
    // * * ğŸ“å¯å˜æ€§ï¼šåªè¯»
    // */
    // public Parameters getParameters();
    public default int getMaxEvidenceBaseLength() {
        return Parameters.MAXIMUM_STAMP_LENGTH;
    }

    /**
     * è·å–ã€Œé™é»˜å€¼ã€
     * * ğŸ¯åœ¨ã€Œæ¨ç†ä¸Šä¸‹æ–‡ã€ä¸­æ— éœ€è·å–ã€Œæ¨ç†å™¨ã€`getReasoner`
     * * ï¸ğŸ“å¯ç©ºæ€§ï¼šéç©º
     * * ğŸ“å¯å˜æ€§ï¼šåªè¯»
     *
     * @return é™é»˜å€¼
     */
    public float getSilencePercent();

    /**
     * è·å–ã€Œå½“å‰æ¦‚å¿µã€
     * * ï¸ğŸ“å¯ç©ºæ€§ï¼šéç©º
     * * ğŸ“å¯å˜æ€§ï¼šå†…éƒ¨å¯å˜
     * * ğŸ“æ‰€æœ‰æƒï¼šä¸´æ—¶æ‰€æœ‰ï¼ˆæ¨ç†ç»“æŸæ—¶å½’è¿˜ï¼‰
     */
    public Concept getCurrentConcept();

    /**
     * * ğŸ“åœ¨æ‰€æœ‰ä½¿ç”¨åœºæ™¯ä¸­ï¼Œå‡ä¸ºã€Œå½“å‰æ¦‚å¿µè¦å¤„ç†çš„è¯é¡¹ã€ä¸”åªè¯»
     * * ğŸš©ã€2024-05-20 09:15:59ã€‘æ•…æ­¤å¤„ä»…ä¿ç•™getterï¼Œå¹¶ä¸”ä¸ç•™å­˜å¤šä½™å­—æ®µï¼ˆå‡å°‘å…±äº«å¼•ç”¨ï¼‰
     * * ï¸ğŸ“å¯ç©ºæ€§ï¼šéç©º
     * * ğŸ“å¯å˜æ€§ï¼šåªè¯» | å®Œå…¨ä¾èµ–ã€Œå½“å‰æ¦‚å¿µã€è€Œå®šï¼Œä¸”ã€Œå½“å‰æ¦‚å¿µã€æ°¸ä¸å˜æ›´è¯é¡¹
     * * ğŸ“æ‰€æœ‰æƒï¼šä»…å¼•ç”¨
     */
    public default Term getCurrentTerm() {
        // ! ğŸš©éœ€è¦å‡å®š`this.getCurrentConcept() != null`
        return this.getCurrentConcept().getTerm();
    }

    /**
     * The selected task
     * * ğŸš©ã€2024-05-21 22:40:21ã€‘ç°åœ¨æ”¹ä¸ºæŠ½è±¡æ–¹æ³•ï¼šä¸åŒå®ç°æœ‰ä¸åŒçš„ç”¨æ³•
     * * ğŸ“„ã€Œç›´æ¥æ¨ç†ä¸Šä¸‹æ–‡ã€å°†å…¶ä½œä¸ºå­—æ®µï¼Œè€Œã€Œè½¬æ¢æ¨ç†ä¸Šä¸‹æ–‡ã€ã€Œæ¦‚å¿µæ¨ç†ä¸Šä¸‹æ–‡ã€å‡åªç”¨ä½œã€Œå½“å‰ä»»åŠ¡é“¾çš„ç›®æ ‡ã€
     */
    public abstract Task getCurrentTask();

    /**
     * ğŸ†•åˆ¤æ–­å½“å‰ä¸Šä¸‹æ–‡æ˜¯å¦ä¸ºã€Œåå‘æ¨ç†ã€
     * * ğŸš©å®è´¨ä¸Šå°±æ˜¯åˆ¤æ–­ã€Œå½“å‰ä»»åŠ¡ã€æ˜¯å¦ä¸ºã€Œç–‘é—®å¥ã€
     * * * ğŸ“ç–‘é—®â‡’è¿½é—®â‡’åå‘
     */
    public default boolean isBackward() {
        return this.getCurrentTask().isQuestion();
    }

    /**
     * è·å–ã€Œå·²å­˜åœ¨çš„æ¦‚å¿µã€
     * * ğŸ¯è®©ã€Œæ¦‚å¿µæ¨ç†ã€å¯ä»¥åœ¨ã€Œæ‹¿å‡ºæ¦‚å¿µã€çš„æ—¶å€™è¿è¡Œï¼ŒåŒæ—¶ä¸å½±å“å…·ä½“æ¨ç†è¿‡ç¨‹
     * * ğŸš©å…ˆä¸ã€Œå½“å‰æ¦‚å¿µã€åšåŒ¹é…ï¼Œè‹¥æ²¡æœ‰å†åœ¨è®°å¿†åŒºä¸­å¯»æ‰¾
     * * ğŸ“Œã€2024-05-24 22:07:42ã€‘ç›®å‰ä¸“ä¾›ã€Œæ¨ç†è§„åˆ™ã€è°ƒç”¨
     * * ğŸ“ã€2024-06-26 20:45:59ã€‘ç›®å‰æ‰€æœ‰é€»è¾‘çº¯åªè¯»ï¼šæœ€å¤šä¸ºã€Œè·å–å…¶ä¸­çš„ä¿¡å¿µã€
     */
    public default Concept termToConcept(Term term) {
        if (term.equals(this.getCurrentTerm()))
            return this.getCurrentConcept();
        else
            return this.getMemory().termToConcept(term);
    }
}
